{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":42,"index":202}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const response = await _servicesApi.authAPI.login({\n        email,\n        password\n      });\n      const {\n        access_token,\n        user: userData\n      } = response.data;\n      await AsyncStorage.default.setItem('token', access_token);\n      await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n      setToken(access_token);\n      setUser(userData);\n    };\n    const register = async data => {\n      const response = await _servicesApi.authAPI.register(data);\n      const {\n        access_token,\n        user: userData\n      } = response.data;\n      await AsyncStorage.default.setItem('token', access_token);\n      await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n      setToken(access_token);\n      setUser(userData);\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setToken(null);\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        isLoading,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"mX4/AXRUN66G8j/NKXHYWKblzjI=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":117,"map":[[15,2,37,0,"Object"],[15,8,37,0],[15,9,37,0,"defineProperty"],[15,23,37,0],[15,24,37,0,"exports"],[15,31,37,0],[16,4,37,0,"enumerable"],[16,14,37,0],[17,4,37,0,"get"],[17,7,37,0],[17,18,37,0,"get"],[17,19,37,0],[18,6,37,0],[18,13,37,0,"AuthProvider"],[18,25,37,0],[19,4,37,0],[20,2,37,0],[21,2,98,0,"Object"],[21,8,98,0],[21,9,98,0,"defineProperty"],[21,23,98,0],[21,24,98,0,"exports"],[21,31,98,0],[22,4,98,0,"enumerable"],[22,14,98,0],[23,4,98,0,"get"],[23,7,98,0],[23,18,98,0,"get"],[23,19,98,0],[24,6,98,0],[24,13,98,0,"useAuth"],[24,20,98,0],[25,4,98,0],[26,2,98,0],[27,2,1,0],[27,6,1,0,"_react"],[27,12,1,0],[27,15,1,0,"require"],[27,22,1,0],[27,23,1,0,"_dependencyMap"],[27,37,1,0],[28,2,2,0],[28,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[28,42,2,0],[28,45,2,0,"require"],[28,52,2,0],[28,53,2,0,"_dependencyMap"],[28,67,2,0],[29,2,2,0],[29,6,2,0,"AsyncStorage"],[29,18,2,0],[29,21,2,0,"_interopDefault"],[29,36,2,0],[29,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,73,2,0],[30,2,3,0],[30,6,3,0,"_servicesApi"],[30,18,3,0],[30,21,3,0,"require"],[30,28,3,0],[30,29,3,0,"_dependencyMap"],[30,43,3,0],[31,2,3,42],[31,6,3,42,"_reactJsxDevRuntime"],[31,25,3,42],[31,28,3,42,"require"],[31,35,3,42],[31,36,3,42,"_dependencyMap"],[31,50,3,42],[32,2,35,0],[32,8,35,6,"AuthContext"],[32,19,35,17],[32,35,35,20],[32,39,35,20,"createContext"],[32,45,35,33],[32,46,35,33,"createContext"],[32,59,35,33],[32,61,35,63,"undefined"],[32,70,35,72],[32,71,35,73],[33,2,37,7],[33,8,37,13,"AuthProvider"],[33,20,37,25],[33,23,37,28,"AuthProvider"],[33,24,37,29],[34,4,37,31,"children"],[35,2,37,65],[35,3,37,66],[35,8,37,71],[36,4,37,71,"_s"],[36,6,37,71],[37,4,38,2],[37,10,38,8],[37,11,38,9,"user"],[37,15,38,13],[37,17,38,15,"setUser"],[37,24,38,22],[37,25,38,23],[37,28,38,26],[37,32,38,26,"useState"],[37,38,38,34],[37,39,38,34,"useState"],[37,47,38,34],[37,49,38,48],[37,53,38,52],[37,54,38,53],[38,4,39,2],[38,10,39,8],[38,11,39,9,"token"],[38,16,39,14],[38,18,39,16,"setToken"],[38,26,39,24],[38,27,39,25],[38,30,39,28],[38,34,39,28,"useState"],[38,40,39,36],[38,41,39,36,"useState"],[38,49,39,36],[38,51,39,52],[38,55,39,56],[38,56,39,57],[39,4,40,2],[39,10,40,8],[39,11,40,9,"isLoading"],[39,20,40,18],[39,22,40,20,"setIsLoading"],[39,34,40,32],[39,35,40,33],[39,38,40,36],[39,42,40,36,"useState"],[39,48,40,44],[39,49,40,44,"useState"],[39,57,40,44],[39,59,40,45],[39,63,40,49],[39,64,40,50],[40,4,42,2],[40,8,42,2,"useEffect"],[40,14,42,11],[40,15,42,11,"useEffect"],[40,24,42,11],[40,26,42,12],[40,32,42,18],[41,6,43,4,"loadStoredAuth"],[41,20,43,18],[41,21,43,19],[41,22,43,20],[42,4,44,2],[42,5,44,3],[42,7,44,5],[42,9,44,7],[42,10,44,8],[43,4,46,2],[43,10,46,8,"loadStoredAuth"],[43,24,46,22],[43,27,46,25],[43,33,46,25,"loadStoredAuth"],[43,34,46,25],[43,39,46,37],[44,6,47,4],[44,10,47,8],[45,8,48,6],[45,14,48,12,"storedToken"],[45,25,48,23],[45,28,48,26],[45,34,48,32,"AsyncStorage"],[45,46,48,44],[45,47,48,44,"default"],[45,54,48,44],[45,55,48,45,"getItem"],[45,62,48,52],[45,63,48,53],[45,70,48,60],[45,71,48,61],[46,8,49,6],[46,14,49,12,"storedUser"],[46,24,49,22],[46,27,49,25],[46,33,49,31,"AsyncStorage"],[46,45,49,43],[46,46,49,43,"default"],[46,53,49,43],[46,54,49,44,"getItem"],[46,61,49,51],[46,62,49,52],[46,68,49,58],[46,69,49,59],[47,8,51,6],[47,12,51,10,"storedToken"],[47,23,51,21],[47,27,51,25,"storedUser"],[47,37,51,35],[47,39,51,37],[48,10,52,8,"setToken"],[48,18,52,16],[48,19,52,17,"storedToken"],[48,30,52,28],[48,31,52,29],[49,10,53,8,"setUser"],[49,17,53,15],[49,18,53,16,"JSON"],[49,22,53,20],[49,23,53,21,"parse"],[49,28,53,26],[49,29,53,27,"storedUser"],[49,39,53,37],[49,40,53,38],[49,41,53,39],[50,8,54,6],[51,6,55,4],[51,7,55,5],[51,8,55,6],[51,15,55,13,"error"],[51,20,55,18],[51,22,55,20],[52,8,56,6,"console"],[52,15,56,13],[52,16,56,14,"error"],[52,21,56,19],[52,22,56,20],[52,43,56,41],[52,45,56,43,"error"],[52,50,56,48],[52,51,56,49],[53,6,57,4],[53,7,57,5],[53,16,57,14],[54,8,58,6,"setIsLoading"],[54,20,58,18],[54,21,58,19],[54,26,58,24],[54,27,58,25],[55,6,59,4],[56,4,60,2],[56,5,60,3],[57,4,62,2],[57,10,62,8,"login"],[57,15,62,13],[57,18,62,16],[57,24,62,16,"login"],[57,25,62,23,"email"],[57,30,62,36],[57,32,62,38,"password"],[57,40,62,54],[57,45,62,59],[58,6,63,4],[58,12,63,10,"response"],[58,20,63,18],[58,23,63,21],[58,29,63,27,"authAPI"],[58,41,63,34],[58,42,63,34,"authAPI"],[58,49,63,34],[58,50,63,35,"login"],[58,55,63,40],[58,56,63,41],[59,8,63,43,"email"],[59,13,63,48],[60,8,63,50,"password"],[61,6,63,59],[61,7,63,60],[61,8,63,61],[62,6,64,4],[62,12,64,10],[63,8,64,12,"access_token"],[63,20,64,24],[64,8,64,26,"user"],[64,12,64,30],[64,14,64,32,"userData"],[65,6,64,41],[65,7,64,42],[65,10,64,45,"response"],[65,18,64,53],[65,19,64,54,"data"],[65,23,64,58],[66,6,66,4],[66,12,66,10,"AsyncStorage"],[66,24,66,22],[66,25,66,22,"default"],[66,32,66,22],[66,33,66,23,"setItem"],[66,40,66,30],[66,41,66,31],[66,48,66,38],[66,50,66,40,"access_token"],[66,62,66,52],[66,63,66,53],[67,6,67,4],[67,12,67,10,"AsyncStorage"],[67,24,67,22],[67,25,67,22,"default"],[67,32,67,22],[67,33,67,23,"setItem"],[67,40,67,30],[67,41,67,31],[67,47,67,37],[67,49,67,39,"JSON"],[67,53,67,43],[67,54,67,44,"stringify"],[67,63,67,53],[67,64,67,54,"userData"],[67,72,67,62],[67,73,67,63],[67,74,67,64],[68,6,69,4,"setToken"],[68,14,69,12],[68,15,69,13,"access_token"],[68,27,69,25],[68,28,69,26],[69,6,70,4,"setUser"],[69,13,70,11],[69,14,70,12,"userData"],[69,22,70,20],[69,23,70,21],[70,4,71,2],[70,5,71,3],[71,4,73,2],[71,10,73,8,"register"],[71,18,73,16],[71,21,73,19],[71,27,73,26,"data"],[71,31,73,44],[71,35,73,49],[72,6,74,4],[72,12,74,10,"response"],[72,20,74,18],[72,23,74,21],[72,29,74,27,"authAPI"],[72,41,74,34],[72,42,74,34,"authAPI"],[72,49,74,34],[72,50,74,35,"register"],[72,58,74,43],[72,59,74,44,"data"],[72,63,74,48],[72,64,74,49],[73,6,75,4],[73,12,75,10],[74,8,75,12,"access_token"],[74,20,75,24],[75,8,75,26,"user"],[75,12,75,30],[75,14,75,32,"userData"],[76,6,75,41],[76,7,75,42],[76,10,75,45,"response"],[76,18,75,53],[76,19,75,54,"data"],[76,23,75,58],[77,6,77,4],[77,12,77,10,"AsyncStorage"],[77,24,77,22],[77,25,77,22,"default"],[77,32,77,22],[77,33,77,23,"setItem"],[77,40,77,30],[77,41,77,31],[77,48,77,38],[77,50,77,40,"access_token"],[77,62,77,52],[77,63,77,53],[78,6,78,4],[78,12,78,10,"AsyncStorage"],[78,24,78,22],[78,25,78,22,"default"],[78,32,78,22],[78,33,78,23,"setItem"],[78,40,78,30],[78,41,78,31],[78,47,78,37],[78,49,78,39,"JSON"],[78,53,78,43],[78,54,78,44,"stringify"],[78,63,78,53],[78,64,78,54,"userData"],[78,72,78,62],[78,73,78,63],[78,74,78,64],[79,6,80,4,"setToken"],[79,14,80,12],[79,15,80,13,"access_token"],[79,27,80,25],[79,28,80,26],[80,6,81,4,"setUser"],[80,13,81,11],[80,14,81,12,"userData"],[80,22,81,20],[80,23,81,21],[81,4,82,2],[81,5,82,3],[82,4,84,2],[82,10,84,8,"logout"],[82,16,84,14],[82,19,84,17],[82,25,84,17,"logout"],[82,26,84,17],[82,31,84,29],[83,6,85,4],[83,12,85,10,"AsyncStorage"],[83,24,85,22],[83,25,85,22,"default"],[83,32,85,22],[83,33,85,23,"removeItem"],[83,43,85,33],[83,44,85,34],[83,51,85,41],[83,52,85,42],[84,6,86,4],[84,12,86,10,"AsyncStorage"],[84,24,86,22],[84,25,86,22,"default"],[84,32,86,22],[84,33,86,23,"removeItem"],[84,43,86,33],[84,44,86,34],[84,50,86,40],[84,51,86,41],[85,6,87,4,"setToken"],[85,14,87,12],[85,15,87,13],[85,19,87,17],[85,20,87,18],[86,6,88,4,"setUser"],[86,13,88,11],[86,14,88,12],[86,18,88,16],[86,19,88,17],[87,4,89,2],[87,5,89,3],[88,4,91,2],[88,24,92,4],[88,28,92,4,"_reactJsxDevRuntime"],[88,47,92,4],[88,48,92,4,"jsxDEV"],[88,54,92,4],[88,56,92,5,"AuthContext"],[88,67,92,16],[88,68,92,17,"Provider"],[88,76,92,25],[89,6,92,26,"value"],[89,11,92,31],[89,13,92,33],[90,8,92,35,"user"],[90,12,92,39],[91,8,92,41,"token"],[91,13,92,46],[92,8,92,48,"isLoading"],[92,17,92,57],[93,8,92,59,"login"],[93,13,92,64],[94,8,92,66,"register"],[94,16,92,74],[95,8,92,76,"logout"],[96,6,92,83],[96,7,92,85],[97,6,92,85,"children"],[97,14,92,85],[97,16,93,7,"children"],[98,4,93,15],[99,6,93,15,"fileName"],[99,14,93,15],[99,16,93,15,"_jsxFileName"],[99,28,93,15],[100,6,93,15,"lineNumber"],[100,16,93,15],[101,6,93,15,"columnNumber"],[101,18,93,15],[102,4,93,15],[102,11,94,26],[102,12,94,27],[103,2,96,0],[103,3,96,1],[104,2,96,2,"_s"],[104,4,96,2],[104,5,37,13,"AuthProvider"],[104,17,37,25],[105,2,37,25,"_c"],[105,4,37,25],[105,7,37,13,"AuthProvider"],[105,19,37,25],[106,2,98,7],[106,8,98,13,"useAuth"],[106,15,98,20],[106,18,98,23,"useAuth"],[106,19,98,23],[106,24,98,29],[107,4,98,29,"_s2"],[107,7,98,29],[108,4,99,2],[108,10,99,8,"context"],[108,17,99,15],[108,20,99,18],[108,24,99,18,"useContext"],[108,30,99,28],[108,31,99,28,"useContext"],[108,41,99,28],[108,43,99,29,"AuthContext"],[108,54,99,40],[108,55,99,41],[109,4,100,2],[109,8,100,6,"context"],[109,15,100,13],[109,20,100,18,"undefined"],[109,29,100,27],[109,31,100,29],[110,6,101,4],[110,12,101,10],[110,16,101,14,"Error"],[110,21,101,19],[110,22,101,20],[110,67,101,65],[110,68,101,66],[111,4,102,2],[112,4,103,2],[112,11,103,9,"context"],[112,18,103,16],[113,2,104,0],[113,3,104,1],[114,2,104,2,"_s2"],[114,5,104,2],[114,6,98,13,"useAuth"],[114,13,98,20],[115,2,98,20],[115,6,98,20,"_c"],[115,8,98,20],[116,2,98,20,"$RefreshReg$"],[116,14,98,20],[116,15,98,20,"_c"],[116,17,98,20],[117,0,98,20],[117,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","useAuth"],"mappings":"AAA;4BCoC;YCK;GDE;yBEE;GFc;gBGE;GHS;mBIE;GJS;iBKE;GLK;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}