{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":42,"index":202}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const response = await _servicesApi.authAPI.login({\n        email,\n        password\n      });\n      const {\n        access_token,\n        user: userData\n      } = response.data;\n      await AsyncStorage.default.setItem('token', access_token);\n      await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n      setToken(access_token);\n      setUser(userData);\n    };\n    const register = async data => {\n      const response = await _servicesApi.authAPI.register(data);\n      const {\n        access_token,\n        user: userData\n      } = response.data;\n      await AsyncStorage.default.setItem('token', access_token);\n      await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n      setToken(access_token);\n      setUser(userData);\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setToken(null);\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        isLoading,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":108,"map":[[13,2,37,0,"Object"],[13,8,37,0],[13,9,37,0,"defineProperty"],[13,23,37,0],[13,24,37,0,"exports"],[13,31,37,0],[14,4,37,0,"enumerable"],[14,14,37,0],[15,4,37,0,"get"],[15,7,37,0],[15,18,37,0,"get"],[15,19,37,0],[16,6,37,0],[16,13,37,0,"AuthProvider"],[16,25,37,0],[17,4,37,0],[18,2,37,0],[19,2,98,0,"Object"],[19,8,98,0],[19,9,98,0,"defineProperty"],[19,23,98,0],[19,24,98,0,"exports"],[19,31,98,0],[20,4,98,0,"enumerable"],[20,14,98,0],[21,4,98,0,"get"],[21,7,98,0],[21,18,98,0,"get"],[21,19,98,0],[22,6,98,0],[22,13,98,0,"useAuth"],[22,20,98,0],[23,4,98,0],[24,2,98,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_servicesApi"],[28,18,3,0],[28,21,3,0,"require"],[28,28,3,0],[28,29,3,0,"_dependencyMap"],[28,43,3,0],[29,2,3,42],[29,6,3,42,"_reactJsxDevRuntime"],[29,25,3,42],[29,28,3,42,"require"],[29,35,3,42],[29,36,3,42,"_dependencyMap"],[29,50,3,42],[30,2,35,0],[30,8,35,6,"AuthContext"],[30,19,35,17],[30,35,35,20],[30,39,35,20,"createContext"],[30,45,35,33],[30,46,35,33,"createContext"],[30,59,35,33],[30,61,35,63,"undefined"],[30,70,35,72],[30,71,35,73],[31,2,37,7],[31,8,37,13,"AuthProvider"],[31,20,37,25],[31,23,37,28,"AuthProvider"],[31,24,37,29],[32,4,37,31,"children"],[33,2,37,65],[33,3,37,66],[33,8,37,71],[34,4,38,2],[34,10,38,8],[34,11,38,9,"user"],[34,15,38,13],[34,17,38,15,"setUser"],[34,24,38,22],[34,25,38,23],[34,28,38,26],[34,32,38,26,"useState"],[34,38,38,34],[34,39,38,34,"useState"],[34,47,38,34],[34,49,38,48],[34,53,38,52],[34,54,38,53],[35,4,39,2],[35,10,39,8],[35,11,39,9,"token"],[35,16,39,14],[35,18,39,16,"setToken"],[35,26,39,24],[35,27,39,25],[35,30,39,28],[35,34,39,28,"useState"],[35,40,39,36],[35,41,39,36,"useState"],[35,49,39,36],[35,51,39,52],[35,55,39,56],[35,56,39,57],[36,4,40,2],[36,10,40,8],[36,11,40,9,"isLoading"],[36,20,40,18],[36,22,40,20,"setIsLoading"],[36,34,40,32],[36,35,40,33],[36,38,40,36],[36,42,40,36,"useState"],[36,48,40,44],[36,49,40,44,"useState"],[36,57,40,44],[36,59,40,45],[36,63,40,49],[36,64,40,50],[37,4,42,2],[37,8,42,2,"useEffect"],[37,14,42,11],[37,15,42,11,"useEffect"],[37,24,42,11],[37,26,42,12],[37,32,42,18],[38,6,43,4,"loadStoredAuth"],[38,20,43,18],[38,21,43,19],[38,22,43,20],[39,4,44,2],[39,5,44,3],[39,7,44,5],[39,9,44,7],[39,10,44,8],[40,4,46,2],[40,10,46,8,"loadStoredAuth"],[40,24,46,22],[40,27,46,25],[40,33,46,25,"loadStoredAuth"],[40,34,46,25],[40,39,46,37],[41,6,47,4],[41,10,47,8],[42,8,48,6],[42,14,48,12,"storedToken"],[42,25,48,23],[42,28,48,26],[42,34,48,32,"AsyncStorage"],[42,46,48,44],[42,47,48,44,"default"],[42,54,48,44],[42,55,48,45,"getItem"],[42,62,48,52],[42,63,48,53],[42,70,48,60],[42,71,48,61],[43,8,49,6],[43,14,49,12,"storedUser"],[43,24,49,22],[43,27,49,25],[43,33,49,31,"AsyncStorage"],[43,45,49,43],[43,46,49,43,"default"],[43,53,49,43],[43,54,49,44,"getItem"],[43,61,49,51],[43,62,49,52],[43,68,49,58],[43,69,49,59],[44,8,51,6],[44,12,51,10,"storedToken"],[44,23,51,21],[44,27,51,25,"storedUser"],[44,37,51,35],[44,39,51,37],[45,10,52,8,"setToken"],[45,18,52,16],[45,19,52,17,"storedToken"],[45,30,52,28],[45,31,52,29],[46,10,53,8,"setUser"],[46,17,53,15],[46,18,53,16,"JSON"],[46,22,53,20],[46,23,53,21,"parse"],[46,28,53,26],[46,29,53,27,"storedUser"],[46,39,53,37],[46,40,53,38],[46,41,53,39],[47,8,54,6],[48,6,55,4],[48,7,55,5],[48,8,55,6],[48,15,55,13,"error"],[48,20,55,18],[48,22,55,20],[49,8,56,6,"console"],[49,15,56,13],[49,16,56,14,"error"],[49,21,56,19],[49,22,56,20],[49,43,56,41],[49,45,56,43,"error"],[49,50,56,48],[49,51,56,49],[50,6,57,4],[50,7,57,5],[50,16,57,14],[51,8,58,6,"setIsLoading"],[51,20,58,18],[51,21,58,19],[51,26,58,24],[51,27,58,25],[52,6,59,4],[53,4,60,2],[53,5,60,3],[54,4,62,2],[54,10,62,8,"login"],[54,15,62,13],[54,18,62,16],[54,24,62,16,"login"],[54,25,62,23,"email"],[54,30,62,36],[54,32,62,38,"password"],[54,40,62,54],[54,45,62,59],[55,6,63,4],[55,12,63,10,"response"],[55,20,63,18],[55,23,63,21],[55,29,63,27,"authAPI"],[55,41,63,34],[55,42,63,34,"authAPI"],[55,49,63,34],[55,50,63,35,"login"],[55,55,63,40],[55,56,63,41],[56,8,63,43,"email"],[56,13,63,48],[57,8,63,50,"password"],[58,6,63,59],[58,7,63,60],[58,8,63,61],[59,6,64,4],[59,12,64,10],[60,8,64,12,"access_token"],[60,20,64,24],[61,8,64,26,"user"],[61,12,64,30],[61,14,64,32,"userData"],[62,6,64,41],[62,7,64,42],[62,10,64,45,"response"],[62,18,64,53],[62,19,64,54,"data"],[62,23,64,58],[63,6,66,4],[63,12,66,10,"AsyncStorage"],[63,24,66,22],[63,25,66,22,"default"],[63,32,66,22],[63,33,66,23,"setItem"],[63,40,66,30],[63,41,66,31],[63,48,66,38],[63,50,66,40,"access_token"],[63,62,66,52],[63,63,66,53],[64,6,67,4],[64,12,67,10,"AsyncStorage"],[64,24,67,22],[64,25,67,22,"default"],[64,32,67,22],[64,33,67,23,"setItem"],[64,40,67,30],[64,41,67,31],[64,47,67,37],[64,49,67,39,"JSON"],[64,53,67,43],[64,54,67,44,"stringify"],[64,63,67,53],[64,64,67,54,"userData"],[64,72,67,62],[64,73,67,63],[64,74,67,64],[65,6,69,4,"setToken"],[65,14,69,12],[65,15,69,13,"access_token"],[65,27,69,25],[65,28,69,26],[66,6,70,4,"setUser"],[66,13,70,11],[66,14,70,12,"userData"],[66,22,70,20],[66,23,70,21],[67,4,71,2],[67,5,71,3],[68,4,73,2],[68,10,73,8,"register"],[68,18,73,16],[68,21,73,19],[68,27,73,26,"data"],[68,31,73,44],[68,35,73,49],[69,6,74,4],[69,12,74,10,"response"],[69,20,74,18],[69,23,74,21],[69,29,74,27,"authAPI"],[69,41,74,34],[69,42,74,34,"authAPI"],[69,49,74,34],[69,50,74,35,"register"],[69,58,74,43],[69,59,74,44,"data"],[69,63,74,48],[69,64,74,49],[70,6,75,4],[70,12,75,10],[71,8,75,12,"access_token"],[71,20,75,24],[72,8,75,26,"user"],[72,12,75,30],[72,14,75,32,"userData"],[73,6,75,41],[73,7,75,42],[73,10,75,45,"response"],[73,18,75,53],[73,19,75,54,"data"],[73,23,75,58],[74,6,77,4],[74,12,77,10,"AsyncStorage"],[74,24,77,22],[74,25,77,22,"default"],[74,32,77,22],[74,33,77,23,"setItem"],[74,40,77,30],[74,41,77,31],[74,48,77,38],[74,50,77,40,"access_token"],[74,62,77,52],[74,63,77,53],[75,6,78,4],[75,12,78,10,"AsyncStorage"],[75,24,78,22],[75,25,78,22,"default"],[75,32,78,22],[75,33,78,23,"setItem"],[75,40,78,30],[75,41,78,31],[75,47,78,37],[75,49,78,39,"JSON"],[75,53,78,43],[75,54,78,44,"stringify"],[75,63,78,53],[75,64,78,54,"userData"],[75,72,78,62],[75,73,78,63],[75,74,78,64],[76,6,80,4,"setToken"],[76,14,80,12],[76,15,80,13,"access_token"],[76,27,80,25],[76,28,80,26],[77,6,81,4,"setUser"],[77,13,81,11],[77,14,81,12,"userData"],[77,22,81,20],[77,23,81,21],[78,4,82,2],[78,5,82,3],[79,4,84,2],[79,10,84,8,"logout"],[79,16,84,14],[79,19,84,17],[79,25,84,17,"logout"],[79,26,84,17],[79,31,84,29],[80,6,85,4],[80,12,85,10,"AsyncStorage"],[80,24,85,22],[80,25,85,22,"default"],[80,32,85,22],[80,33,85,23,"removeItem"],[80,43,85,33],[80,44,85,34],[80,51,85,41],[80,52,85,42],[81,6,86,4],[81,12,86,10,"AsyncStorage"],[81,24,86,22],[81,25,86,22,"default"],[81,32,86,22],[81,33,86,23,"removeItem"],[81,43,86,33],[81,44,86,34],[81,50,86,40],[81,51,86,41],[82,6,87,4,"setToken"],[82,14,87,12],[82,15,87,13],[82,19,87,17],[82,20,87,18],[83,6,88,4,"setUser"],[83,13,88,11],[83,14,88,12],[83,18,88,16],[83,19,88,17],[84,4,89,2],[84,5,89,3],[85,4,91,2],[85,24,92,4],[85,28,92,4,"_reactJsxDevRuntime"],[85,47,92,4],[85,48,92,4,"jsxDEV"],[85,54,92,4],[85,56,92,5,"AuthContext"],[85,67,92,16],[85,68,92,17,"Provider"],[85,76,92,25],[86,6,92,26,"value"],[86,11,92,31],[86,13,92,33],[87,8,92,35,"user"],[87,12,92,39],[88,8,92,41,"token"],[88,13,92,46],[89,8,92,48,"isLoading"],[89,17,92,57],[90,8,92,59,"login"],[90,13,92,64],[91,8,92,66,"register"],[91,16,92,74],[92,8,92,76,"logout"],[93,6,92,83],[93,7,92,85],[94,6,92,85,"children"],[94,14,92,85],[94,16,93,7,"children"],[95,4,93,15],[96,6,93,15,"fileName"],[96,14,93,15],[96,16,93,15,"_jsxFileName"],[96,28,93,15],[97,6,93,15,"lineNumber"],[97,16,93,15],[98,6,93,15,"columnNumber"],[98,18,93,15],[99,4,93,15],[99,11,94,26],[99,12,94,27],[100,2,96,0],[100,3,96,1],[101,2,98,7],[101,8,98,13,"useAuth"],[101,15,98,20],[101,18,98,23,"useAuth"],[101,19,98,23],[101,24,98,29],[102,4,99,2],[102,10,99,8,"context"],[102,17,99,15],[102,20,99,18],[102,24,99,18,"useContext"],[102,30,99,28],[102,31,99,28,"useContext"],[102,41,99,28],[102,43,99,29,"AuthContext"],[102,54,99,40],[102,55,99,41],[103,4,100,2],[103,8,100,6,"context"],[103,15,100,13],[103,20,100,18,"undefined"],[103,29,100,27],[103,31,100,29],[104,6,101,4],[104,12,101,10],[104,16,101,14,"Error"],[104,21,101,19],[104,22,101,20],[104,67,101,65],[104,68,101,66],[105,4,102,2],[106,4,103,2],[106,11,103,9,"context"],[106,18,103,16],[107,2,104,0],[107,3,104,1],[108,0,104,2],[108,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","useAuth"],"mappings":"AAA;4BCoC;YCK;GDE;yBEE;GFc;gBGE;GHS;mBIE;GJS;iBKE;GLK;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}