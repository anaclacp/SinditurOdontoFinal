{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":42,"index":202}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (cpf, birth_date) => {\n      const response = await _servicesApi.authAPI.login({\n        cpf,\n        birth_date\n      });\n      const {\n        access_token,\n        user: userData\n      } = response.data;\n      await AsyncStorage.default.setItem('token', access_token);\n      await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n      setToken(access_token);\n      setUser(userData);\n    };\n    const register = async data => {\n      const response = await _servicesApi.authAPI.register(data);\n      const {\n        access_token,\n        user: userData\n      } = response.data;\n      await AsyncStorage.default.setItem('token', access_token);\n      await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n      setToken(access_token);\n      setUser(userData);\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setToken(null);\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        isLoading,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":108,"map":[[13,2,30,0,"Object"],[13,8,30,0],[13,9,30,0,"defineProperty"],[13,23,30,0],[13,24,30,0,"exports"],[13,31,30,0],[14,4,30,0,"enumerable"],[14,14,30,0],[15,4,30,0,"get"],[15,7,30,0],[15,18,30,0,"get"],[15,19,30,0],[16,6,30,0],[16,13,30,0,"AuthProvider"],[16,25,30,0],[17,4,30,0],[18,2,30,0],[19,2,91,0,"Object"],[19,8,91,0],[19,9,91,0,"defineProperty"],[19,23,91,0],[19,24,91,0,"exports"],[19,31,91,0],[20,4,91,0,"enumerable"],[20,14,91,0],[21,4,91,0,"get"],[21,7,91,0],[21,18,91,0,"get"],[21,19,91,0],[22,6,91,0],[22,13,91,0,"useAuth"],[22,20,91,0],[23,4,91,0],[24,2,91,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_servicesApi"],[28,18,3,0],[28,21,3,0,"require"],[28,28,3,0],[28,29,3,0,"_dependencyMap"],[28,43,3,0],[29,2,3,42],[29,6,3,42,"_reactJsxDevRuntime"],[29,25,3,42],[29,28,3,42,"require"],[29,35,3,42],[29,36,3,42,"_dependencyMap"],[29,50,3,42],[30,2,28,0],[30,8,28,6,"AuthContext"],[30,19,28,17],[30,35,28,20],[30,39,28,20,"createContext"],[30,45,28,33],[30,46,28,33,"createContext"],[30,59,28,33],[30,61,28,63,"undefined"],[30,70,28,72],[30,71,28,73],[31,2,30,7],[31,8,30,13,"AuthProvider"],[31,20,30,25],[31,23,30,28,"AuthProvider"],[31,24,30,29],[32,4,30,31,"children"],[33,2,30,65],[33,3,30,66],[33,8,30,71],[34,4,31,2],[34,10,31,8],[34,11,31,9,"user"],[34,15,31,13],[34,17,31,15,"setUser"],[34,24,31,22],[34,25,31,23],[34,28,31,26],[34,32,31,26,"useState"],[34,38,31,34],[34,39,31,34,"useState"],[34,47,31,34],[34,49,31,48],[34,53,31,52],[34,54,31,53],[35,4,32,2],[35,10,32,8],[35,11,32,9,"token"],[35,16,32,14],[35,18,32,16,"setToken"],[35,26,32,24],[35,27,32,25],[35,30,32,28],[35,34,32,28,"useState"],[35,40,32,36],[35,41,32,36,"useState"],[35,49,32,36],[35,51,32,52],[35,55,32,56],[35,56,32,57],[36,4,33,2],[36,10,33,8],[36,11,33,9,"isLoading"],[36,20,33,18],[36,22,33,20,"setIsLoading"],[36,34,33,32],[36,35,33,33],[36,38,33,36],[36,42,33,36,"useState"],[36,48,33,44],[36,49,33,44,"useState"],[36,57,33,44],[36,59,33,45],[36,63,33,49],[36,64,33,50],[37,4,35,2],[37,8,35,2,"useEffect"],[37,14,35,11],[37,15,35,11,"useEffect"],[37,24,35,11],[37,26,35,12],[37,32,35,18],[38,6,36,4,"loadStoredAuth"],[38,20,36,18],[38,21,36,19],[38,22,36,20],[39,4,37,2],[39,5,37,3],[39,7,37,5],[39,9,37,7],[39,10,37,8],[40,4,39,2],[40,10,39,8,"loadStoredAuth"],[40,24,39,22],[40,27,39,25],[40,33,39,25,"loadStoredAuth"],[40,34,39,25],[40,39,39,37],[41,6,40,4],[41,10,40,8],[42,8,41,6],[42,14,41,12,"storedToken"],[42,25,41,23],[42,28,41,26],[42,34,41,32,"AsyncStorage"],[42,46,41,44],[42,47,41,44,"default"],[42,54,41,44],[42,55,41,45,"getItem"],[42,62,41,52],[42,63,41,53],[42,70,41,60],[42,71,41,61],[43,8,42,6],[43,14,42,12,"storedUser"],[43,24,42,22],[43,27,42,25],[43,33,42,31,"AsyncStorage"],[43,45,42,43],[43,46,42,43,"default"],[43,53,42,43],[43,54,42,44,"getItem"],[43,61,42,51],[43,62,42,52],[43,68,42,58],[43,69,42,59],[44,8,44,6],[44,12,44,10,"storedToken"],[44,23,44,21],[44,27,44,25,"storedUser"],[44,37,44,35],[44,39,44,37],[45,10,45,8,"setToken"],[45,18,45,16],[45,19,45,17,"storedToken"],[45,30,45,28],[45,31,45,29],[46,10,46,8,"setUser"],[46,17,46,15],[46,18,46,16,"JSON"],[46,22,46,20],[46,23,46,21,"parse"],[46,28,46,26],[46,29,46,27,"storedUser"],[46,39,46,37],[46,40,46,38],[46,41,46,39],[47,8,47,6],[48,6,48,4],[48,7,48,5],[48,8,48,6],[48,15,48,13,"error"],[48,20,48,18],[48,22,48,20],[49,8,49,6,"console"],[49,15,49,13],[49,16,49,14,"error"],[49,21,49,19],[49,22,49,20],[49,43,49,41],[49,45,49,43,"error"],[49,50,49,48],[49,51,49,49],[50,6,50,4],[50,7,50,5],[50,16,50,14],[51,8,51,6,"setIsLoading"],[51,20,51,18],[51,21,51,19],[51,26,51,24],[51,27,51,25],[52,6,52,4],[53,4,53,2],[53,5,53,3],[54,4,55,2],[54,10,55,8,"login"],[54,15,55,13],[54,18,55,16],[54,24,55,16,"login"],[54,25,55,23,"cpf"],[54,28,55,34],[54,30,55,36,"birth_date"],[54,40,55,54],[54,45,55,59],[55,6,56,4],[55,12,56,10,"response"],[55,20,56,18],[55,23,56,21],[55,29,56,27,"authAPI"],[55,41,56,34],[55,42,56,34,"authAPI"],[55,49,56,34],[55,50,56,35,"login"],[55,55,56,40],[55,56,56,41],[56,8,56,43,"cpf"],[56,11,56,46],[57,8,56,48,"birth_date"],[58,6,56,59],[58,7,56,60],[58,8,56,61],[59,6,57,4],[59,12,57,10],[60,8,57,12,"access_token"],[60,20,57,24],[61,8,57,26,"user"],[61,12,57,30],[61,14,57,32,"userData"],[62,6,57,41],[62,7,57,42],[62,10,57,45,"response"],[62,18,57,53],[62,19,57,54,"data"],[62,23,57,58],[63,6,59,4],[63,12,59,10,"AsyncStorage"],[63,24,59,22],[63,25,59,22,"default"],[63,32,59,22],[63,33,59,23,"setItem"],[63,40,59,30],[63,41,59,31],[63,48,59,38],[63,50,59,40,"access_token"],[63,62,59,52],[63,63,59,53],[64,6,60,4],[64,12,60,10,"AsyncStorage"],[64,24,60,22],[64,25,60,22,"default"],[64,32,60,22],[64,33,60,23,"setItem"],[64,40,60,30],[64,41,60,31],[64,47,60,37],[64,49,60,39,"JSON"],[64,53,60,43],[64,54,60,44,"stringify"],[64,63,60,53],[64,64,60,54,"userData"],[64,72,60,62],[64,73,60,63],[64,74,60,64],[65,6,62,4,"setToken"],[65,14,62,12],[65,15,62,13,"access_token"],[65,27,62,25],[65,28,62,26],[66,6,63,4,"setUser"],[66,13,63,11],[66,14,63,12,"userData"],[66,22,63,20],[66,23,63,21],[67,4,64,2],[67,5,64,3],[68,4,66,2],[68,10,66,8,"register"],[68,18,66,16],[68,21,66,19],[68,27,66,26,"data"],[68,31,66,44],[68,35,66,49],[69,6,67,4],[69,12,67,10,"response"],[69,20,67,18],[69,23,67,21],[69,29,67,27,"authAPI"],[69,41,67,34],[69,42,67,34,"authAPI"],[69,49,67,34],[69,50,67,35,"register"],[69,58,67,43],[69,59,67,44,"data"],[69,63,67,48],[69,64,67,49],[70,6,68,4],[70,12,68,10],[71,8,68,12,"access_token"],[71,20,68,24],[72,8,68,26,"user"],[72,12,68,30],[72,14,68,32,"userData"],[73,6,68,41],[73,7,68,42],[73,10,68,45,"response"],[73,18,68,53],[73,19,68,54,"data"],[73,23,68,58],[74,6,70,4],[74,12,70,10,"AsyncStorage"],[74,24,70,22],[74,25,70,22,"default"],[74,32,70,22],[74,33,70,23,"setItem"],[74,40,70,30],[74,41,70,31],[74,48,70,38],[74,50,70,40,"access_token"],[74,62,70,52],[74,63,70,53],[75,6,71,4],[75,12,71,10,"AsyncStorage"],[75,24,71,22],[75,25,71,22,"default"],[75,32,71,22],[75,33,71,23,"setItem"],[75,40,71,30],[75,41,71,31],[75,47,71,37],[75,49,71,39,"JSON"],[75,53,71,43],[75,54,71,44,"stringify"],[75,63,71,53],[75,64,71,54,"userData"],[75,72,71,62],[75,73,71,63],[75,74,71,64],[76,6,73,4,"setToken"],[76,14,73,12],[76,15,73,13,"access_token"],[76,27,73,25],[76,28,73,26],[77,6,74,4,"setUser"],[77,13,74,11],[77,14,74,12,"userData"],[77,22,74,20],[77,23,74,21],[78,4,75,2],[78,5,75,3],[79,4,77,2],[79,10,77,8,"logout"],[79,16,77,14],[79,19,77,17],[79,25,77,17,"logout"],[79,26,77,17],[79,31,77,29],[80,6,78,4],[80,12,78,10,"AsyncStorage"],[80,24,78,22],[80,25,78,22,"default"],[80,32,78,22],[80,33,78,23,"removeItem"],[80,43,78,33],[80,44,78,34],[80,51,78,41],[80,52,78,42],[81,6,79,4],[81,12,79,10,"AsyncStorage"],[81,24,79,22],[81,25,79,22,"default"],[81,32,79,22],[81,33,79,23,"removeItem"],[81,43,79,33],[81,44,79,34],[81,50,79,40],[81,51,79,41],[82,6,80,4,"setToken"],[82,14,80,12],[82,15,80,13],[82,19,80,17],[82,20,80,18],[83,6,81,4,"setUser"],[83,13,81,11],[83,14,81,12],[83,18,81,16],[83,19,81,17],[84,4,82,2],[84,5,82,3],[85,4,84,2],[85,24,85,4],[85,28,85,4,"_reactJsxDevRuntime"],[85,47,85,4],[85,48,85,4,"jsxDEV"],[85,54,85,4],[85,56,85,5,"AuthContext"],[85,67,85,16],[85,68,85,17,"Provider"],[85,76,85,25],[86,6,85,26,"value"],[86,11,85,31],[86,13,85,33],[87,8,85,35,"user"],[87,12,85,39],[88,8,85,41,"token"],[88,13,85,46],[89,8,85,48,"isLoading"],[89,17,85,57],[90,8,85,59,"login"],[90,13,85,64],[91,8,85,66,"register"],[91,16,85,74],[92,8,85,76,"logout"],[93,6,85,83],[93,7,85,85],[94,6,85,85,"children"],[94,14,85,85],[94,16,86,7,"children"],[95,4,86,15],[96,6,86,15,"fileName"],[96,14,86,15],[96,16,86,15,"_jsxFileName"],[96,28,86,15],[97,6,86,15,"lineNumber"],[97,16,86,15],[98,6,86,15,"columnNumber"],[98,18,86,15],[99,4,86,15],[99,11,87,26],[99,12,87,27],[100,2,89,0],[100,3,89,1],[101,2,91,7],[101,8,91,13,"useAuth"],[101,15,91,20],[101,18,91,23,"useAuth"],[101,19,91,23],[101,24,91,29],[102,4,92,2],[102,10,92,8,"context"],[102,17,92,15],[102,20,92,18],[102,24,92,18,"useContext"],[102,30,92,28],[102,31,92,28,"useContext"],[102,41,92,28],[102,43,92,29,"AuthContext"],[102,54,92,40],[102,55,92,41],[103,4,93,2],[103,8,93,6,"context"],[103,15,93,13],[103,20,93,18,"undefined"],[103,29,93,27],[103,31,93,29],[104,6,94,4],[104,12,94,10],[104,16,94,14,"Error"],[104,21,94,19],[104,22,94,20],[104,67,94,65],[104,68,94,66],[105,4,95,2],[106,4,96,2],[106,11,96,9,"context"],[106,18,96,16],[107,2,97,0],[107,3,97,1],[108,0,97,2],[108,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","useAuth"],"mappings":"AAA;4BC6B;YCK;GDE;yBEE;GFc;gBGE;GHS;mBIE;GJS;iBKE;GLK;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}